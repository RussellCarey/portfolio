{"ast":null,"code":"var _jsxFileName = \"/Users/r/Desktop/portfolio-final/src/components/Window/WindowOLD/Window.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef, useContext } from \"react\";\nimport { WindowContainer } from \"../styles/styled\";\nimport CornerButton from \"./Window.CornerButtons\";\nimport Sidebar from \"./Window.Sidebar\";\nimport WindowMain from \"./Window.Main\";\nimport WindowTopbar from \"./Window.Topbar\"; // import Project from \"../pages/Project\";\n\nimport AboutPage from \"../../Pages/About\"; // import HowtoPage from \"../pages/Howto\";\n// import ProjectTemplate from \"../pages/Project.Template\";\n// import Contact from \"../pages/Contact\";\n//! START\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Window(_ref) {\n  _s();\n\n  let {\n    pageName,\n    themeState,\n    id,\n    windowType,\n    data,\n    isProject,\n    windowList\n  } = _ref;\n  const [dimensions, setDimensions] = useState({});\n  const [position, setPosition] = useState({\n    top: 10 * windowList.length,\n    left: 40 * windowList.length\n  });\n  const [isOnResize, setIsOnResize] = useState(false);\n  const isResizing = useRef(false);\n  const [isOnMoving, setisOnMoving] = useState(false);\n  const isMoving = useRef(false);\n  const movingPoint = useRef([]);\n  const dragStartPoint = useRef({});\n  useEffect(() => {\n    const moveListen = window.addEventListener(\"mousemove\", resizeTheWindow);\n    const mouseUp = window.addEventListener(\"mouseup\", onReset);\n    return () => {\n      window.removeEventListener(\"mousemove\", moveListen);\n      window.removeEventListener(\"mouseup\", mouseUp);\n    };\n  }, []);\n\n  const getMousePositionInDiv = e => {\n    // Important: currentTarget for parent but target for div -- This is why the math was off -- wrong div..\n    const rect = e.currentTarget.getBoundingClientRect();\n    const mouseY = e.clientY - rect.top;\n    const mouseX = e.clientX - rect.left;\n    return {\n      mouseX,\n      mouseY,\n      rect\n    };\n  }; //? Checks the mouse position inside the div\n\n\n  const checkMousePosition = e => {\n    const mousePos = getMousePositionInDiv(e);\n\n    if (mousePos.mouseX < mousePos.rect.width && mousePos.mouseX > mousePos.rect.width - 100 && mousePos.mouseY < mousePos.rect.height && mousePos.mouseY > mousePos.rect.height - 70) {\n      setIsOnResize(true);\n    } else {\n      setIsOnResize(false);\n    }\n\n    if (mousePos.mouseY > 0 && mousePos.mouseY < 30 && mousePos.mouseX > 0) {\n      setisOnMoving(true);\n    } else {\n      setisOnMoving(false);\n    }\n  }; //? On click, set depending on location setwhat needs to be set\n\n\n  const setStartingPoint = e => {\n    const mousePos = getMousePositionInDiv(e);\n\n    if (isOnResize) {\n      dragStartPoint.current = {\n        x: e.clientX,\n        y: e.clientY,\n        w: mousePos.rect.width,\n        h: mousePos.rect.height\n      };\n      isResizing.current = true;\n    }\n\n    if (isOnMoving) {\n      isMoving.current = true;\n      movingPoint.current = [mousePos.mouseX, mousePos.mouseY];\n    }\n  }; //? Window event listener\n\n\n  const resizeTheWindow = e => {\n    if (isResizing.current === true) {\n      setDimensions({\n        width: dragStartPoint.current.w + (e.clientX - dragStartPoint.current.x),\n        height: dragStartPoint.current.h + (e.clientY - dragStartPoint.current.y)\n      });\n    }\n\n    if (isMoving.current === true) {\n      setPosition({\n        left: e.clientX - movingPoint.current[0],\n        top: e.clientY - movingPoint.current[1]\n      });\n    }\n  }; //? On any mouse up reset all\n\n\n  const onReset = () => {\n    isResizing.current = false;\n    isMoving.current = false;\n    movingPoint.current = null;\n    dragStartPoint.current = null;\n    setIsOnResize(null);\n    setisOnMoving(null);\n  };\n\n  return /*#__PURE__*/_jsxDEV(WindowContainer, {\n    onMouseMove: checkMousePosition,\n    onMouseDown: setStartingPoint,\n    themeState: themeState,\n    dimensions: dimensions,\n    position: position,\n    id: id,\n    animate: {\n      scale: [1, 1.01, 1.01, 1.01, 1]\n    },\n    transition: {\n      duration: 0.2,\n      delay: 0.1\n    },\n    children: [/*#__PURE__*/_jsxDEV(CornerButton, {\n      themeState: themeState,\n      onReset: onReset,\n      id: id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), windowType === \"sidebar\" ? /*#__PURE__*/_jsxDEV(Sidebar, {\n      themeState: themeState\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 35\n    }, this) : null, /*#__PURE__*/_jsxDEV(WindowMain, {\n      themeState: themeState,\n      children: [/*#__PURE__*/_jsxDEV(WindowTopbar, {\n        themeState: themeState\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), pageName && pageName === \"about\" ? /*#__PURE__*/_jsxDEV(AboutPage, {\n        themeState: themeState\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 45\n      }, this) : null, \" */}\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Window, \"lyBMKcG6zu8OVwQggLFM0QpjG08=\");\n\n_c = Window;\n\nvar _c;\n\n$RefreshReg$(_c, \"Window\");","map":{"version":3,"sources":["/Users/r/Desktop/portfolio-final/src/components/Window/WindowOLD/Window.jsx"],"names":["useState","useEffect","useRef","useContext","WindowContainer","CornerButton","Sidebar","WindowMain","WindowTopbar","AboutPage","Window","pageName","themeState","id","windowType","data","isProject","windowList","dimensions","setDimensions","position","setPosition","top","length","left","isOnResize","setIsOnResize","isResizing","isOnMoving","setisOnMoving","isMoving","movingPoint","dragStartPoint","moveListen","window","addEventListener","resizeTheWindow","mouseUp","onReset","removeEventListener","getMousePositionInDiv","e","rect","currentTarget","getBoundingClientRect","mouseY","clientY","mouseX","clientX","checkMousePosition","mousePos","width","height","setStartingPoint","current","x","y","w","h","scale","duration","delay"],"mappings":"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","sourcesContent":["import { useState, useEffect, useRef, useContext } from \"react\";\nimport { WindowContainer } from \"../styles/styled\";\n\nimport CornerButton from \"./Window.CornerButtons\";\nimport Sidebar from \"./Window.Sidebar\";\nimport WindowMain from \"./Window.Main\";\nimport WindowTopbar from \"./Window.Topbar\";\n\n// import Project from \"../pages/Project\";\nimport AboutPage from \"../../Pages/About\";\n// import HowtoPage from \"../pages/Howto\";\n// import ProjectTemplate from \"../pages/Project.Template\";\n// import Contact from \"../pages/Contact\";\n\n//! START\nexport default function Window({ pageName, themeState, id, windowType, data, isProject, windowList }) {\n  const [dimensions, setDimensions] = useState({});\n\n  const [position, setPosition] = useState({\n    top: 10 * windowList.length,\n    left: 40 * windowList.length,\n  });\n\n  const [isOnResize, setIsOnResize] = useState(false);\n  const isResizing = useRef(false);\n  const [isOnMoving, setisOnMoving] = useState(false);\n  const isMoving = useRef(false);\n  const movingPoint = useRef([]);\n  const dragStartPoint = useRef({});\n\n  useEffect(() => {\n    const moveListen = window.addEventListener(\"mousemove\", resizeTheWindow);\n    const mouseUp = window.addEventListener(\"mouseup\", onReset);\n    return () => {\n      window.removeEventListener(\"mousemove\", moveListen);\n      window.removeEventListener(\"mouseup\", mouseUp);\n    };\n  }, []);\n\n  const getMousePositionInDiv = (e) => {\n    // Important: currentTarget for parent but target for div -- This is why the math was off -- wrong div..\n    const rect = e.currentTarget.getBoundingClientRect();\n    const mouseY = e.clientY - rect.top;\n    const mouseX = e.clientX - rect.left;\n    return { mouseX, mouseY, rect };\n  };\n\n  //? Checks the mouse position inside the div\n  const checkMousePosition = (e) => {\n    const mousePos = getMousePositionInDiv(e);\n    if (\n      mousePos.mouseX < mousePos.rect.width &&\n      mousePos.mouseX > mousePos.rect.width - 100 &&\n      mousePos.mouseY < mousePos.rect.height &&\n      mousePos.mouseY > mousePos.rect.height - 70\n    ) {\n      setIsOnResize(true);\n    } else {\n      setIsOnResize(false);\n    }\n\n    if (mousePos.mouseY > 0 && mousePos.mouseY < 30 && mousePos.mouseX > 0) {\n      setisOnMoving(true);\n    } else {\n      setisOnMoving(false);\n    }\n  };\n\n  //? On click, set depending on location setwhat needs to be set\n  const setStartingPoint = (e) => {\n    const mousePos = getMousePositionInDiv(e);\n\n    if (isOnResize) {\n      dragStartPoint.current = {\n        x: e.clientX,\n        y: e.clientY,\n        w: mousePos.rect.width,\n        h: mousePos.rect.height,\n      };\n\n      isResizing.current = true;\n    }\n\n    if (isOnMoving) {\n      isMoving.current = true;\n      movingPoint.current = [mousePos.mouseX, mousePos.mouseY];\n    }\n  };\n\n  //? Window event listener\n  const resizeTheWindow = (e) => {\n    if (isResizing.current === true) {\n      setDimensions({\n        width: dragStartPoint.current.w + (e.clientX - dragStartPoint.current.x),\n        height: dragStartPoint.current.h + (e.clientY - dragStartPoint.current.y),\n      });\n    }\n\n    if (isMoving.current === true) {\n      setPosition({\n        left: e.clientX - movingPoint.current[0],\n        top: e.clientY - movingPoint.current[1],\n      });\n    }\n  };\n\n  //? On any mouse up reset all\n  const onReset = () => {\n    isResizing.current = false;\n    isMoving.current = false;\n    movingPoint.current = null;\n    dragStartPoint.current = null;\n    setIsOnResize(null);\n    setisOnMoving(null);\n  };\n\n  return (\n    <WindowContainer\n      onMouseMove={checkMousePosition}\n      onMouseDown={setStartingPoint}\n      themeState={themeState}\n      dimensions={dimensions}\n      position={position}\n      id={id}\n      animate={{ scale: [1, 1.01, 1.01, 1.01, 1] }}\n      transition={{ duration: 0.2, delay: 0.1 }}\n    >\n      <CornerButton themeState={themeState} onReset={onReset} id={id} />\n\n      {/* Load the sidebar if needed or not..*/}\n      {windowType === \"sidebar\" ? <Sidebar themeState={themeState}></Sidebar> : null}\n\n      <WindowMain themeState={themeState}>\n        <WindowTopbar themeState={themeState} />\n        {/* Main window pages */}\n        {/* {pageName && pageName === \"Projects\" ? <Project themeState={themeState} data={data}></Project> : null} */}\n        {pageName && pageName === \"about\" ? <AboutPage themeState={themeState}></AboutPage> : null}\n        {/* {pageName && pageName === \"Howto\" ? <HowtoPage themeState={themeState}></HowtoPage> : null}\n        {pageName && pageName === \"Contact\" ? <Contact themeState={themeState}></Contact> : null}\n        {/* Project subpages */}\n        {/* {isProject ? <ProjectTemplate themeState={themeState} data={data}></ProjectTemplate> : null} */} */}\n      </WindowMain>\n    </WindowContainer>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}
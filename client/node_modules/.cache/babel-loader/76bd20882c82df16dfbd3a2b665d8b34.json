{"ast":null,"code":"import _slicedToArray from\"/Users/r/Desktop/portfolio-final/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef,useEffect,useContext}from\"react\";import{IconContainer,IconText}from\"./styles/styled\";import WindowContext from\"../../context/window/windowContext\";import IconMenu from\"./IconMenu\";import IconSquare from\"./IconSquare\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var IconMain=function IconMain(_ref){var pageName=_ref.pageName,text=_ref.text,data=_ref.data,windowType=_ref.windowType,themeState=_ref.themeState,isWeb=_ref.isWeb,aniDelay=_ref.aniDelay,selectedIcon=_ref.selectedIcon,setSelectedIcon=_ref.setSelectedIcon;var windowContext=useContext(WindowContext);var createNewWindow=windowContext.createNewWindow;var clickPosition=useRef({x:0,y:0});var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showMenu=_useState2[0],setShowMenu=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isSelected=_useState4[0],setIsSelected=_useState4[1];useEffect(function(){if(selectedIcon===pageName)setIsSelected(true);if(selectedIcon!==pageName)setIsSelected(false);if(selectedIcon!==pageName)setShowMenu(false);},[selectedIcon,pageName]);// ON one click - change the color of the text background\nvar onClickHandler=function onClickHandler(e){if(e.button===0){setSelectedIcon(pageName);}if(e.button===2){setSelectedIcon(pageName);setShowMenu(true);clickPosition.current={x:e.pageX,y:e.pageY};}};// When double clicking on the icon\nvar onDoubleClickHandler=function onDoubleClickHandler(){setShowMenu(false);if(isWeb){return window.open(isWeb,\"_blank\");}//pageName: string,// id: number,// windowType: string, // data: any,// isProject: boolean\ncreateNewWindow(pageName,windowType,data,false);};return/*#__PURE__*/_jsxs(IconContainer,{onMouseDown:onClickHandler,onDoubleClick:onDoubleClickHandler,initial:{opacity:0,y:-20},transition:{delay:aniDelay,duration:0.5},animate:{opacity:1,y:0},children:[/*#__PURE__*/_jsx(IconSquare,{themeState:themeState,label:pageName}),/*#__PURE__*/_jsx(IconText,{themeState:themeState,isSelected:isSelected,children:text}),/*#__PURE__*/_jsx(IconMenu,{themeState:themeState,top:clickPosition.current?clickPosition.current.y+100:null,left:clickPosition.current?clickPosition.current.x+200:null,display:showMenu===true?\"flex\":\"none\",onClickHandler:onDoubleClickHandler})]});};export default IconMain;","map":{"version":3,"sources":["/Users/r/Desktop/portfolio-final/client/src/components/Icons/Index.tsx"],"names":["React","useState","useRef","useEffect","useContext","IconContainer","IconText","WindowContext","IconMenu","IconSquare","IconMain","pageName","text","data","windowType","themeState","isWeb","aniDelay","selectedIcon","setSelectedIcon","windowContext","createNewWindow","clickPosition","x","y","showMenu","setShowMenu","isSelected","setIsSelected","onClickHandler","e","button","current","pageX","pageY","onDoubleClickHandler","window","open","opacity","delay","duration"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect, FunctionComponent, useContext } from \"react\";\nimport { IconContainer, IconText } from \"./styles/styled\";\nimport WindowContext from \"../../context/window/windowContext\";\n\nimport IconMenu from \"./IconMenu\";\nimport IconSquare from \"./IconSquare\";\nimport { IIconProps } from \"./types/interfaces\";\n\nconst IconMain: FunctionComponent<IIconProps> = ({\n  pageName,\n  text,\n  data,\n  windowType,\n  themeState,\n  isWeb,\n  aniDelay,\n  selectedIcon,\n  setSelectedIcon,\n}) => {\n  const windowContext = useContext(WindowContext);\n  const { createNewWindow } = windowContext;\n\n  const clickPosition = useRef<{ x: number; y: number }>({ x: 0, y: 0 });\n  const [showMenu, setShowMenu] = useState<boolean>(false);\n  const [isSelected, setIsSelected] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (selectedIcon === pageName) setIsSelected(true);\n    if (selectedIcon !== pageName) setIsSelected(false);\n    if (selectedIcon !== pageName) setShowMenu(false);\n  }, [selectedIcon, pageName]);\n\n  // ON one click - change the color of the text background\n  const onClickHandler = (e: React.MouseEvent) => {\n    if (e.button === 0) {\n      setSelectedIcon(pageName);\n    }\n\n    if (e.button === 2) {\n      setSelectedIcon(pageName);\n      setShowMenu(true);\n      clickPosition.current = { x: e.pageX, y: e.pageY };\n    }\n  };\n\n  // When double clicking on the icon\n  const onDoubleClickHandler = () => {\n    setShowMenu(false);\n\n    if (isWeb) {\n      return window.open(isWeb, \"_blank\");\n    }\n\n    //pageName: string,// id: number,// windowType: string, // data: any,// isProject: boolean\n    createNewWindow(pageName, windowType, data, false);\n  };\n\n  return (\n    <IconContainer\n      onMouseDown={onClickHandler}\n      onDoubleClick={onDoubleClickHandler}\n      initial={{ opacity: 0, y: -20 }}\n      transition={{ delay: aniDelay, duration: 0.5 }}\n      animate={{ opacity: 1, y: 0 }}\n    >\n      <IconSquare themeState={themeState} label={pageName} />\n\n      <IconText themeState={themeState} isSelected={isSelected}>\n        {text}\n      </IconText>\n\n      <IconMenu\n        themeState={themeState}\n        top={clickPosition.current ? clickPosition.current.y + 100 : null}\n        left={clickPosition.current ? clickPosition.current.x + 200 : null}\n        display={showMenu === true ? \"flex\" : \"none\"}\n        onClickHandler={onDoubleClickHandler}\n      />\n    </IconContainer>\n  );\n};\n\nexport default IconMain;\n"]},"metadata":{},"sourceType":"module"}
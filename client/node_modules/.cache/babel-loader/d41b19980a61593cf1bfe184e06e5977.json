{"ast":null,"code":"import _asyncToGenerator from\"/Users/r/Desktop/portfolio-final/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/r/Desktop/portfolio-final/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/r/Desktop/portfolio-final/client/node_modules/@babel/runtime/regenerator/index.js\";import{useContext,useEffect,useState}from\"react\";import ThemeContext from\"../../../context/theme/themeContext\";import{PageContainer}from\"./styles/styled\";import BlogPost from\"./BlogPost\";import{fetchBlogPosts}from\"./services/fetchServices\";import Loading from\"../../Desktop/Spinner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BlogPage=function BlogPage(_ref){var dimensions=_ref.dimensions;var _useContext=useContext(ThemeContext),theme=_useContext.theme;var _useState=useState(),_useState2=_slicedToArray(_useState,2),blogPosts=_useState2[0],setBlogPosts=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var fetchLast30BlogPosts=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var posts;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchBlogPosts();case 2:posts=_context.sent;setBlogPosts(posts);setIsLoading(false);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchLast30BlogPosts(){return _ref2.apply(this,arguments);};}();var goToBlogPage=function goToBlogPage(data){return window.open(\"\".concat(data.url),\"_blank\");};useEffect(function(){fetchLast30BlogPosts();},[]);return/*#__PURE__*/_jsxs(PageContainer,{dimensions:dimensions,themeState:theme,children:[isLoading?/*#__PURE__*/_jsx(Loading,{}):null,blogPosts?blogPosts.map(function(post){return/*#__PURE__*/_jsx(BlogPost,{data:post,onClick:function onClick(){return goToBlogPage(post);}});}):null]});};export default BlogPage;","map":{"version":3,"sources":["/Users/r/Desktop/portfolio-final/client/src/components/InnerPages/Blog/Index.tsx"],"names":["useContext","useEffect","useState","ThemeContext","PageContainer","BlogPost","fetchBlogPosts","Loading","BlogPage","dimensions","theme","blogPosts","setBlogPosts","isLoading","setIsLoading","fetchLast30BlogPosts","posts","goToBlogPage","data","window","open","url","map","post"],"mappings":"0XAAA,OAA4BA,UAA5B,CAAwCC,SAAxC,CAAmDC,QAAnD,KAAmE,OAAnE,CACA,MAAOC,CAAAA,YAAP,KAAyB,qCAAzB,CACA,OAASC,aAAT,KAA8B,iBAA9B,CAEA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CAEA,OAASC,cAAT,KAA+B,0BAA/B,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,C,wFAMA,GAAMC,CAAAA,QAA2C,CAAG,QAA9CA,CAAAA,QAA8C,MAAoB,IAAjBC,CAAAA,UAAiB,MAAjBA,UAAiB,CACtE,gBAAkBT,UAAU,CAACG,YAAD,CAA5B,CAAQO,KAAR,aAAQA,KAAR,CACA,cAAkCR,QAAQ,EAA1C,wCAAOS,SAAP,eAAkBC,YAAlB,eACA,eAAkCV,QAAQ,CAAU,IAAV,CAA1C,yCAAOW,SAAP,eAAkBC,YAAlB,eAEA,GAAMC,CAAAA,oBAAoB,2FAAG,mKACPT,CAAAA,cAAc,EADP,QACrBU,KADqB,eAE3BJ,YAAY,CAACI,KAAD,CAAZ,CACAF,YAAY,CAAC,KAAD,CAAZ,CAH2B,sDAAH,kBAApBC,CAAAA,oBAAoB,2CAA1B,CAMA,GAAME,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,IAAD,CAAe,CAClC,MAAOC,CAAAA,MAAM,CAACC,IAAP,WAAeF,IAAI,CAACG,GAApB,EAA2B,QAA3B,CAAP,CACD,CAFD,CAIApB,SAAS,CAAC,UAAM,CACdc,oBAAoB,GACrB,CAFQ,CAEN,EAFM,CAAT,CAIA,mBACE,MAAC,aAAD,EAAe,UAAU,CAAEN,UAA3B,CAAuC,UAAU,CAAEC,KAAnD,WACGG,SAAS,cAAG,KAAC,OAAD,IAAH,CAAiB,IAD7B,CAEGF,SAAS,CACNA,SAAS,CAACW,GAAV,CAAc,SAACC,IAAD,CAAU,CACtB,mBAAO,KAAC,QAAD,EAAU,IAAI,CAAEA,IAAhB,CAAsB,OAAO,CAAE,yBAAMN,CAAAA,YAAY,CAACM,IAAD,CAAlB,EAA/B,EAAP,CACD,CAFD,CADM,CAIN,IANN,GADF,CAUD,CA7BD,CA+BA,cAAef,CAAAA,QAAf","sourcesContent":["import { FunctionComponent, useContext, useEffect, useState } from \"react\";\nimport ThemeContext from \"../../../context/theme/themeContext\";\nimport { PageContainer } from \"./styles/styled\";\n\nimport BlogPost from \"./BlogPost\";\n\nimport { fetchBlogPosts } from \"./services/fetchServices\";\nimport Loading from \"../../Desktop/Spinner\";\n\ninterface IBlogPageProps {\n  dimensions: { width: number; height: number };\n}\n\nconst BlogPage: FunctionComponent<IBlogPageProps> = ({ dimensions }) => {\n  const { theme } = useContext(ThemeContext);\n  const [blogPosts, setBlogPosts] = useState<Array<any>>();\n  const [isLoading, setIsLoading] = useState<boolean>(true);\n\n  const fetchLast30BlogPosts = async () => {\n    const posts = await fetchBlogPosts();\n    setBlogPosts(posts);\n    setIsLoading(false);\n  };\n\n  const goToBlogPage = (data: any) => {\n    return window.open(`${data.url}`, \"_blank\");\n  };\n\n  useEffect(() => {\n    fetchLast30BlogPosts();\n  }, []);\n\n  return (\n    <PageContainer dimensions={dimensions} themeState={theme}>\n      {isLoading ? <Loading /> : null}\n      {blogPosts\n        ? blogPosts.map((post) => {\n            return <BlogPost data={post} onClick={() => goToBlogPage(post)} />;\n          })\n        : null}\n    </PageContainer>\n  );\n};\n\nexport default BlogPage;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from\"/Users/r/Desktop/portfolio-final/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useRef,useContext}from\"react\";import{WindowContainer}from\"./styles/styled\";import{isMobile}from\"react-device-detect\";import CornerButton from\"./CornerButton\";import WindowMain from\"./Main\";import WindowTopbar from\"./Topbar\";import AboutPage from\"../Pages/About\";import HowtoPage from\"../Pages/Howto\";import ProjectPage from\"../Pages/Project/Index\";import ProjectsPage from\"../Pages/ProjectsFolder\";import Contact from\"../Pages/Contact\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Window(_ref){var pageName=_ref.pageName,themeState=_ref.themeState,id=_ref.id,windowType=_ref.windowType,data=_ref.data,windowList=_ref.windowList;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),dimensions=_useState2[0],setDimensions=_useState2[1];//! DEfault window position. CHANGE THIS\nvar _useState3=useState({top:!isMobile?10*windowList.length:10,left:!isMobile?40*windowList.length:10}),_useState4=_slicedToArray(_useState3,2),position=_useState4[0],setPosition=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isOnResize=_useState6[0],setIsOnResize=_useState6[1];var isResizing=useRef(false);var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isOnMoving=_useState8[0],setisOnMoving=_useState8[1];var isMoving=useRef(false);var container=useRef();var movingPoint=useRef({});var dragStartPoint=useRef({});useEffect(function(){// Add event listeners for detecting mouse interaction\nvar moveListen=window.addEventListener(\"mousemove\",resizeTheWindow);var mouseUp=window.addEventListener(\"mouseup\",onReset);// Get window size on startup\nsetDimensions({width:container.current.clientWidth,height:container.current.clientHeight});//Cleanup\nreturn function(){window.removeEventListener(\"mousemove\",moveListen);window.removeEventListener(\"mouseup\",mouseUp);};},[container]);//? Window event listener\nvar resizeTheWindow=function resizeTheWindow(e){if(isResizing.current===true){setDimensions({width:dragStartPoint.current.w+(e.clientX-dragStartPoint.current.x),height:dragStartPoint.current.h+(e.clientY-dragStartPoint.current.y)});}if(isMoving.current===true){setPosition({left:e.clientX-movingPoint.current.x,top:e.clientY-movingPoint.current.y});}};//? On any mouse up reset all\nvar onReset=function onReset(){isResizing.current=false;isMoving.current=false;movingPoint.current=null;dragStartPoint.current=null;setIsOnResize(false);setisOnMoving(false);};var getMousePositionInDiv=function getMousePositionInDiv(e){// Important: currentTarget for parent but target for div -- This is why the math was off -- wrong div..\nvar rect=e.currentTarget.getBoundingClientRect();var mouseY=e.clientY-rect.top;var mouseX=e.clientX-rect.left;return{mouseX:mouseX,mouseY:mouseY,rect:rect};};//? Checks the mouse position inside the div\nvar checkMousePosition=function checkMousePosition(e){var mousePos=getMousePositionInDiv(e);if(mousePos.mouseX<mousePos.rect.width&&mousePos.mouseX>mousePos.rect.width-100&&mousePos.mouseY<mousePos.rect.height&&mousePos.mouseY>mousePos.rect.height-70&&!isMobile){setIsOnResize(true);}else{setIsOnResize(false);}if(mousePos.mouseY>0&&mousePos.mouseY<100&&mousePos.mouseX>0){setisOnMoving(true);}else{setisOnMoving(false);}};//? On click, set depending on location setwhat needs to be set\nvar setStartingPoint=function setStartingPoint(e){var mousePos=getMousePositionInDiv(e);if(isOnResize&&!isMobile){dragStartPoint.current={x:e.clientX,y:e.clientY,w:mousePos.rect.width,h:mousePos.rect.height};isResizing.current=true;}if(isOnMoving){isMoving.current=true;movingPoint.current={x:mousePos.mouseX,y:mousePos.mouseY};}};return/*#__PURE__*/_jsxs(WindowContainer,{onMouseMove:checkMousePosition,onMouseDown:setStartingPoint,themeState:themeState,dimensions:dimensions,position:position,windowList:windowList,isMobile:isMobile,id:id,ref:container,animate:{scale:[1,1.01,1.01,1.01,1]},transition:{duration:0.2,delay:0.1},children:[/*#__PURE__*/_jsx(CornerButton,{themeState:themeState,onReset:onReset,id:id}),/*#__PURE__*/_jsx(WindowTopbar,{themeState:themeState}),/*#__PURE__*/_jsxs(WindowMain,{themeState:themeState,children:[pageName===\"about\"?/*#__PURE__*/_jsx(AboutPage,{themeState:themeState}):null,pageName===\"guide\"?/*#__PURE__*/_jsx(HowtoPage,{themeState:themeState}):null,pageName===\"contact\"?/*#__PURE__*/_jsx(Contact,{themeState:themeState}):null,pageName===\"project\"?/*#__PURE__*/_jsx(ProjectPage,{themeState:themeState,data:data,dimensions:dimensions}):null,pageName===\"projects\"?/*#__PURE__*/_jsx(ProjectsPage,{themeState:themeState}):null]})]});}","map":{"version":3,"sources":["/Users/r/Desktop/portfolio-final/client/src/components/Window/Index.jsx"],"names":["useState","useEffect","useRef","useContext","WindowContainer","isMobile","CornerButton","WindowMain","WindowTopbar","AboutPage","HowtoPage","ProjectPage","ProjectsPage","Contact","Window","pageName","themeState","id","windowType","data","windowList","dimensions","setDimensions","top","length","left","position","setPosition","isOnResize","setIsOnResize","isResizing","isOnMoving","setisOnMoving","isMoving","container","movingPoint","dragStartPoint","moveListen","window","addEventListener","resizeTheWindow","mouseUp","onReset","width","current","clientWidth","height","clientHeight","removeEventListener","e","w","clientX","x","h","clientY","y","getMousePositionInDiv","rect","currentTarget","getBoundingClientRect","mouseY","mouseX","checkMousePosition","mousePos","setStartingPoint","scale","duration","delay"],"mappings":"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","sourcesContent":["import { useState, useEffect, useRef, useContext } from \"react\";\nimport { WindowContainer } from \"./styles/styled\";\nimport { isMobile } from \"react-device-detect\";\n\nimport CornerButton from \"./CornerButton\";\nimport WindowMain from \"./Main\";\nimport WindowTopbar from \"./Topbar\";\n\nimport AboutPage from \"../Pages/About\";\nimport HowtoPage from \"../Pages/Howto\";\nimport ProjectPage from \"../Pages/Project/Index\";\nimport ProjectsPage from \"../Pages/ProjectsFolder\";\nimport Contact from \"../Pages/Contact\";\n\nexport default function Window({ pageName, themeState, id, windowType, data, windowList }) {\n  const [dimensions, setDimensions] = useState({});\n\n  //! DEfault window position. CHANGE THIS\n  const [position, setPosition] = useState({\n    top: !isMobile ? 10 * windowList.length : 10,\n    left: !isMobile ? 40 * windowList.length : 10,\n  });\n\n  const [isOnResize, setIsOnResize] = useState(false);\n  const isResizing = useRef(false);\n  const [isOnMoving, setisOnMoving] = useState(false);\n  const isMoving = useRef(false);\n\n  const container = useRef();\n  const movingPoint = useRef({});\n  const dragStartPoint = useRef({});\n\n  useEffect(() => {\n    // Add event listeners for detecting mouse interaction\n    const moveListen = window.addEventListener(\"mousemove\", resizeTheWindow);\n    const mouseUp = window.addEventListener(\"mouseup\", onReset);\n\n    // Get window size on startup\n    setDimensions({ width: container.current.clientWidth, height: container.current.clientHeight });\n\n    //Cleanup\n    return () => {\n      window.removeEventListener(\"mousemove\", moveListen);\n      window.removeEventListener(\"mouseup\", mouseUp);\n    };\n  }, [container]);\n\n  //? Window event listener\n  const resizeTheWindow = (e) => {\n    if (isResizing.current === true) {\n      setDimensions({\n        width: dragStartPoint.current.w + (e.clientX - dragStartPoint.current.x),\n        height: dragStartPoint.current.h + (e.clientY - dragStartPoint.current.y),\n      });\n    }\n\n    if (isMoving.current === true) {\n      setPosition({\n        left: e.clientX - movingPoint.current.x,\n        top: e.clientY - movingPoint.current.y,\n      });\n    }\n  };\n\n  //? On any mouse up reset all\n  const onReset = () => {\n    isResizing.current = false;\n    isMoving.current = false;\n    movingPoint.current = null;\n    dragStartPoint.current = null;\n    setIsOnResize(false);\n    setisOnMoving(false);\n  };\n\n  const getMousePositionInDiv = (e) => {\n    // Important: currentTarget for parent but target for div -- This is why the math was off -- wrong div..\n    const rect = e.currentTarget.getBoundingClientRect();\n    const mouseY = e.clientY - rect.top;\n    const mouseX = e.clientX - rect.left;\n    return { mouseX, mouseY, rect };\n  };\n\n  //? Checks the mouse position inside the div\n  const checkMousePosition = (e) => {\n    const mousePos = getMousePositionInDiv(e);\n\n    if (\n      mousePos.mouseX < mousePos.rect.width &&\n      mousePos.mouseX > mousePos.rect.width - 100 &&\n      mousePos.mouseY < mousePos.rect.height &&\n      mousePos.mouseY > mousePos.rect.height - 70 &&\n      !isMobile\n    ) {\n      setIsOnResize(true);\n    } else {\n      setIsOnResize(false);\n    }\n\n    if (mousePos.mouseY > 0 && mousePos.mouseY < 100 && mousePos.mouseX > 0) {\n      setisOnMoving(true);\n    } else {\n      setisOnMoving(false);\n    }\n  };\n\n  //? On click, set depending on location setwhat needs to be set\n  const setStartingPoint = (e) => {\n    const mousePos = getMousePositionInDiv(e);\n\n    if (isOnResize && !isMobile) {\n      dragStartPoint.current = {\n        x: e.clientX,\n        y: e.clientY,\n        w: mousePos.rect.width,\n        h: mousePos.rect.height,\n      };\n\n      isResizing.current = true;\n    }\n\n    if (isOnMoving) {\n      isMoving.current = true;\n      movingPoint.current = { x: mousePos.mouseX, y: mousePos.mouseY };\n    }\n  };\n\n  return (\n    <WindowContainer\n      onMouseMove={checkMousePosition}\n      onMouseDown={setStartingPoint}\n      themeState={themeState}\n      dimensions={dimensions}\n      position={position}\n      windowList={windowList}\n      isMobile={isMobile}\n      id={id}\n      ref={container}\n      animate={{ scale: [1, 1.01, 1.01, 1.01, 1] }}\n      transition={{ duration: 0.2, delay: 0.1 }}\n    >\n      <CornerButton themeState={themeState} onReset={onReset} id={id} />\n      {/* {windowType === EWindowTypes.sidebar ? <Sidebar themeState={themeState} /> : null} */}\n      <WindowTopbar themeState={themeState} />\n      <WindowMain themeState={themeState}>\n        {pageName === \"about\" ? <AboutPage themeState={themeState} /> : null}\n        {pageName === \"guide\" ? <HowtoPage themeState={themeState} /> : null}\n        {pageName === \"contact\" ? <Contact themeState={themeState} /> : null}\n        {pageName === \"project\" ? <ProjectPage themeState={themeState} data={data} dimensions={dimensions} /> : null}\n        {pageName === \"projects\" ? <ProjectsPage themeState={themeState} /> : null}\n      </WindowMain>\n    </WindowContainer>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}